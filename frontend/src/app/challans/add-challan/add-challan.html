<div class="challan-form">
  <button [routerLink]="['/challans']" class="btn back">Back</button>

  <h2 class="form-title">{{ isEdit ? 'Edit Challan' : 'New Challan' }}</h2>

  <!-- Date -->
  <div class="form-group">
    <label for="date">Date</label>
    <input id="date" type="date" [(ngModel)]="challan.date" />
  </div>

  <!-- Items -->
  <fieldset class="form-section">
    <legend>Items</legend>
    <div class="table-responsive">
      <table class="items-table">
        <thead>
          <tr>
            <th>Description</th>
            <th>Quantity</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let it of challan.items; let i = index">
            <td>
              <input placeholder="Item description" [(ngModel)]="it.description" />
            </td>
            <td>
              <input type="number" placeholder="0" [(ngModel)]="it.quantity" />
            </td>
            <td>
              <button (click)="removeItem(i)" type="button" class="btn-danger">
                Remove
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <button (click)="addItem()" type="button" class="btn-secondary">+ Add Item</button>
  </fieldset>

  <!-- Signatures -->
  <fieldset class="form-section">
    <legend>Signatures</legend>
    <div class="form-group">
      <label for="authorizedBy">Authorized By</label>
      <input id="authorizedBy" placeholder="Enter authority name" [(ngModel)]="challan.footer.authorizedBy" />
    </div>
    <div class="form-group">
      <label for="receivedBy">Received By</label>
      <input id="receivedBy" placeholder="Enter receiver name" [(ngModel)]="challan.footer.receivedBy" />
    </div>
  </fieldset>

  <!-- Actions -->
  <div class="form-actions">
    <button (click)="save()" class="btn-primary">Save</button>
    <button (click)="cancel()" type="button" class="btn-light">Cancel</button>
  </div>
</div>
